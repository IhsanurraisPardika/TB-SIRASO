<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Rincian Pesanan - SIRASO BC</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .rounded-3xl { border-radius: 2rem; }
    .icon-btn { width: 2.5rem; height: 2.5rem; display: inline-flex; align-items: center; justify-content: center; font-size: 1.5rem; }
  </style>
</head>
<body class="bg-white font-sans text-gray-900">
  <!-- Header -->
  <%- include('partials/header') %>

  <main class="container mx-auto flex flex-col md:flex-row gap-8 mt-8">
    <!-- Kartu Menu -->
    <div class="md:w-1/2 bg-green-50 rounded-3xl p-8 flex flex-col items-center shadow">
      <% if (items && items.length > 0) { 
        const item = items[0]; // Tampilkan satu menu utama
      %>
        <img src="<%= item.menu.gambar_url %>" alt="<%= item.menu.nama_makanan %>" class="w-48 h-48 object-cover rounded-xl mb-4 border-4 border-white shadow">
        <h2 class="text-2xl font-bold mb-2"><%= item.menu.nama_makanan %></h2>
        <p class="text-xl text-green-700 font-semibold mb-4">Rp. <%= item.menu.harga.toLocaleString('id-ID') %></p>
        <p class="text-center text-gray-700"><%= item.menu.deskripsi %></p>
      <% } else { %>
        <p>Tidak ada pesanan.</p>
      <% } %>
    </div>
    <!-- Rincian Pesanan -->
    <div class="md:w-1/2 bg-green-800 text-white rounded-3xl p-8 flex flex-col justify-between shadow">
      <h2 class="text-2xl font-bold mb-6">Rincian Pesanan</h2>
      <% if (items && items.length > 0) { 
        const item = items[0];
      %>
        <div class="mb-6">
          <div class="flex justify-between mb-2">
            <span>Nama Menu:</span>
            <span><%= item.menu.nama_makanan %></span>
          </div>
          <div class="flex justify-between items-center mb-2">
            <span>Jumlah:</span>
            <div class="flex items-center gap-2">
              <button class="icon-btn bg-white text-green-800 rounded-full font-bold decrease-btn" data-id="<%= item.keranjang_id %>">âˆ’</button>
              <span class="mx-2 text-lg font-bold quantity-span"><%= item.jumlah %></span>
              <button class="icon-btn bg-white text-green-800 rounded-full font-bold increase-btn" data-id="<%= item.keranjang_id %>">+</button>
            </div>
          </div>
          <div class="flex justify-between items-center mb-2">
            <span>Pembayaran:</span>
            <span>
              <span class="inline-flex items-center bg-white text-green-800 px-3 py-1 rounded-full font-semibold">
                <img src="https://p7.hiclipart.com/preview/326/856/1009/bank-negara-indonesia-bank-rakyat-indonesia-bank-permata-sms-banking-bank-thumbnail.jpg" alt="BNI" class="w-10 h-10 mr-5"> 
              </span>
            </span>
          </div>
        </div>
        <div class="flex justify-end items-center gap-4 mt-8">
          <button onclick="window.location.href='/pembayaran'" class="flex items-center gap-2 px-6 py-2 bg-white text-green-800 rounded-full font-bold shadow hover:bg-green-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.5 17h9a1 1 0 00.85-1.53L17 13M7 13V6h13" /></svg>
            Pesan
          </button>
        </div>
      <% } %>
    </div>
  </main>
  <%- include('partials/footer') %>
</body>
</html>

